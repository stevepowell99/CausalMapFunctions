<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Functions for Causal Mapping • CausalMapFunctions</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Functions for Causal Mapping">
<meta property="og:description" content="A set of functions for manipulating and simplifying causal maps. These functions are used in the Causal Map Viewer (https://causalmap.shinyapps.io/CausalMapViewer/) and are similar to those used in the Causal Map app(http://causalmap.app). 
    In our roadmap, these functions will eventually replace their counterparts in the Causal Map app. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">CausalMapFunctions</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/CausalMapViewer.html">Causal Map Viewer</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/stevepowell99/CausalMapFunctions/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="causal-map-functions" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#causal-map-functions" class="anchor"></a>Causal Map Functions</h1></div>
<p>This is a set of functions for manipulating and simplifying causal maps.</p>
<p>Load example data with:</p>
<pre><code>cashTransferMap %&gt;% make_vn</code></pre>
<p>These functions are used in the <a href="https://causalmap.shinyapps.io/CausalMapViewer/">Causal Map Viewer</a> and are similar to those used in the <a href="http://causalmap.app">Causal Map app</a>. In our roadmap, these functions will eventually replace their counterparts in the Causal Map app.</p>
<p>The main functions input and output augmented <a href="https://github.com/thomasp85/tidygraph">tidygraph</a> graphs. The package defines a kind of object called a tidymap which is just a tidygraph but with an additional statements table stored as an attribute. Statement tables are used in Causal Map as the underlying data which is to be coded into causal links. So each link refers to a quote from a particular statement. Statements are optional and this package can be used without them. (If you know Tidygraph, You might expect an <code>activate(statements)</code> command but this is not implemented yet.)</p>
<p>In this package, nodes are called <code>factors</code> and the edges are called <code>links</code>.</p>
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h2>
<p>There are many existing tools for analysing systems diagrams and also undirected graphs, we identified a need for a tool for analysing the kind of causal maps produced in evaluation research such as programme theories where:</p>
<ul>
<li>there may be many causal factors, with long text labels</li>
<li>the text labels are important because they may be used for searching and filtering</li>
<li>causal factors may be nested into causal hierarchies</li>
<li>there may be many co-terminal links between pairs of factors which should sometimes merged and sometimes not</li>
<li>the main focus is often on a flow of influence from a small set of intervention variables to a small set of focused variables downstream of them, such as key outcomes</li>
</ul>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<ul>
<li>As well as an interactive map, the package wraps DiagrammeR and igraph to produce left-to-right layouts which are particularly suitable for directed maps.</li>
<li>The new metric <code>Path robustness</code> is implemented alongside familiar node and graph metrics.</li>
<li>For hierarchical coding, tools are provided to zoom in and out of individual hierarchies and entire maps.</li>
</ul>
</div>
<div id="how-it-works" class="section level2">
<h2 class="hasAnchor">
<a href="#how-it-works" class="anchor"></a>How it works</h2>
<p>A family of functions <code>pipe_*</code> are provided (manipulate, calculate, hide, combine…) to implement successive filtering operations on a tidymap. All these operations do not actually change the data.</p>
<p>So you import/load data as a tidymap and all your work steps are then just applying successive filters.</p>
<p>Each filter returns another tidymap, suitably filtered.</p>
<p>All of these filters can be produced and edited either in a chain of actual R functions or in the simplified format which is processed by the parser.</p>
<p>If you filter the factors of a tidymap, e.g. show only factors with labels beginning xyz,</p>
<ul>
<li>also the links are filtered (removing links to removed factors)</li>
<li>the statements are not touched</li>
</ul>
<p>If you filter the links of a tidymap, e.g. show only links with hashtags containing xyz,</p>
<ul>
<li>the factors are not filtered (but using a different command you can remove any factors which no longer have any links)</li>
<li>the statements are not touched</li>
</ul>
<p>If you filter the statements of a tidymap, e.g. show only statements with texts containing xyz,</p>
<ul>
<li>also the links are filtered (removing links to removed statements)</li>
<li>the factors are filtered</li>
</ul>
<p>So your workflow is always:</p>
<p>Import or load a tidymap / Filter it / Filter it / Filter it / Output an interactive map, a print map or a table.</p>
</div>
<div id="parser" class="section level2">
<h2 class="hasAnchor">
<a href="#parser" class="anchor"></a>Parser</h2>
<p>There is also a parser which takes text strings with a simpler command syntax as input and outputs one of these main functions for each line of text. This parser is used to read text commands from the input window in Causal Map Viewer and manipulate the output map with the corresponding functions. The input text can also consist of several lines, and the commands are applied one by one in sequence, in a pipeline of commands, such that after each command, such as each command starts with the map defined by the previous line and produces a new one.</p>
</div>
<div id="output-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#output-functions" class="anchor"></a>Output functions</h2>
<p>There are three output functions which are thin wrappers around visNetwork, DiagrammeR and DT, allowing a graph to be displayed using any of these three visualisation engines.</p>
<div id="additional-fields" class="section level3">
<h3 class="hasAnchor">
<a href="#additional-fields" class="anchor"></a>Additional fields</h3>
<p>Some of the commands such as path tracing create additional fields or variables for each factor and/or link. For example, when filtering by label, fields are created which can then be used to apply formatting.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/stevepowell99/CausalMapFunctions/">https://​github.com/​stevepowell99/​CausalMapFunctions/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Steve Powell <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Steve Powell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
