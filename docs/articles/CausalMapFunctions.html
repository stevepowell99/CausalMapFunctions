<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="CausalMapFunctions">
<title>Causal Map Functions • CausalMapFunctions</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Causal Map Functions">
<meta property="og:description" content="CausalMapFunctions">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CausalMapFunctions</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/CausalMapFunctions.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/examples.html">Causal Map Functions Vignette</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/stevepowell99/CausalMapFunctions/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Causal Map Functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/stevepowell99/CausalMapFunctions/blob/HEAD/vignettes/CausalMapFunctions.Rmd" class="external-link"><code>vignettes/CausalMapFunctions.Rmd</code></a></small>
      <div class="d-none name"><code>CausalMapFunctions.Rmd</code></div>
    </div>

    
    
<pre><code><span class="co">#&gt; Loading required package: tidygraph</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'tidygraph'</span>
<span class="co">#&gt; The following object is masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter</span>
<span class="co">#&gt; Loading required package: igraph</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'igraph'</span>
<span class="co">#&gt; The following object is masked from 'package:tidygraph':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     groups</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     decompose, spectrum</span>
<span class="co">#&gt; The following object is masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     union</span>
<span class="co">#&gt; Loading required package: tidyverse</span>
<span class="co">#&gt; -- <span style="font-weight: bold;">Attaching packages</span> --------------------------------------- tidyverse 1.3.1 --</span>
<span class="co">#&gt; <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">ggplot2</span> 3.3.5     <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">purrr  </span> 0.3.4</span>
<span class="co">#&gt; <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">tibble </span> 3.1.6     <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">dplyr  </span> 1.0.7</span>
<span class="co">#&gt; <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">tidyr  </span> 1.1.4     <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">stringr</span> 1.4.0</span>
<span class="co">#&gt; <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">readr  </span> 2.1.1     <span style="color: #00BB00;">v</span> <span style="color: #0000BB;">forcats</span> 0.5.1</span>
<span class="co">#&gt; -- <span style="font-weight: bold;">Conflicts</span> ------------------------------------------ tidyverse_conflicts() --</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">as_data_frame()</span> masks <span style="color: #0000BB;">tibble</span>::as_data_frame(), <span style="color: #0000BB;">igraph</span>::as_data_frame()</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">purrr</span>::<span style="color: #00BB00;">compose()</span>       masks <span style="color: #0000BB;">igraph</span>::compose()</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">tidyr</span>::<span style="color: #00BB00;">crossing()</span>      masks <span style="color: #0000BB;">igraph</span>::crossing()</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span>        masks <span style="color: #0000BB;">tidygraph</span>::filter(), <span style="color: #0000BB;">stats</span>::filter()</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">groups()</span>        masks <span style="color: #0000BB;">igraph</span>::groups(), <span style="color: #0000BB;">tidygraph</span>::groups()</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>           masks <span style="color: #0000BB;">stats</span>::lag()</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">purrr</span>::<span style="color: #00BB00;">simplify()</span>      masks <span style="color: #0000BB;">igraph</span>::simplify()</span>
<span class="co">#&gt; Loading required package: glue</span>
<span class="co">#&gt; Loading required package: visNetwork</span>
<span class="co">#&gt; Loading required package: DiagrammeR</span></code></pre>
<div class="section level2">
<h2 id="a-set-of-functions-for-manipulating-and-simplifying-causal-maps-">A set of functions for manipulating and simplifying causal maps.<a class="anchor" aria-label="anchor" href="#a-set-of-functions-for-manipulating-and-simplifying-causal-maps-"></a>
</h2>
<p>These functions are used in the <a href="https://causalmap.app/" class="external-link">Causal Map app</a>.</p>
<p>The app itself is currently hosted <a href="https://causalmap.shinyapps.io/CausalMap2/" class="external-link">here</a>.</p>
<p>The main functions input and output objects of the class <code>mapfile</code>, which are lists of five tables.</p>
<p>Statement tables are used in Causal Map as the underlying data which is to be coded into causal links. So each link refers to a quote from a particular statement. Statements are optional and this package can be used without them.</p>
<p>The package also contains some UI functions used in the Causal Map Viewer which provide plot and table outputs.</p>
<p>In this package, nodes are called <code>factors</code> and the edges are called <code>links</code>.</p>
</div>
<div class="section level2">
<h2 id="motivation">
<strong>Motivation</strong><a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>There are many existing tools for analysing systems diagrams and also undirected graphs, we identified a need for a tool for analysing the kind of causal maps produced in evaluation research such as programme theories where:</p>
<ul>
<li>there may be many causal factors, with long text labels</li>
<li>the text labels are important because they may be used for searching and filtering</li>
<li>causal factors may be nested into causal hierarchies</li>
<li>there may be many co-terminal links between pairs of factors which should sometimes merged and sometimes not</li>
<li>the main focus is often on a flow of influence from a small set of intervention variables to a small set of focused variables downstream of them, such as key outcomes</li>
</ul>
</div>
<div class="section level2">
<h2 id="features">
<strong>Features</strong><a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>As well as an interactive map, the package wraps DiagrammeR, graphviz, visNetwork and igraph to produce left-to-right layouts which are particularly suitable for directed maps.</li>
<li>The new metric <code>Path robustness</code> is implemented alongside familiar node and graph metrics.</li>
<li>For hierarchical coding, tools are provided to zoom in and out of individual hierarchies and entire maps.</li>
</ul>
</div>
<div class="section level2">
<h2 id="how-it-works">
<strong>How it works</strong><a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p>A family of functions <code>pipe_*</code> are provided (manipulate, calculate, hide, combine…) to implement successive filtering operations on a mapfile.</p>
<p>So you import/load data as a mapfile and all your work steps are then just applying successive filters.</p>
<p>Each filter returns another mapfile, suitably filtered.</p>
<p>All of these filters can be produced and edited either in a chain of actual R functions or in the simplified text format which is processed by the parser.</p>
<p>Import or load a mapfile / Filter it / Filter it / Filter it / Output an interactive map, a print map or a table.</p>
</div>
<div class="section level2">
<h2 id="parser">
<strong>Parser</strong><a class="anchor" aria-label="anchor" href="#parser"></a>
</h2>
<p>There is also a parser which takes text strings with a simpler command syntax as input and outputs one of these main functions for each line of text. This parser is used to read text commands from the input window in Causal Map Viewer and manipulate the output map with the corresponding functions. The input text can also consist of several lines, and the commands are applied one by one in sequence, in a pipeline of commands, such that after each command, such as each command starts with the map defined by the previous line and produces a new one.</p>
</div>
<div class="section level2">
<h2 id="output-functions">
<strong>Output functions</strong><a class="anchor" aria-label="anchor" href="#output-functions"></a>
</h2>
<p>There are three output functions. Two are thin wrappers around visNetwork, DiagrammeR and DT, allowing a graph to be displayed using any of these three visualisation engines.</p>
<div class="section level3">
<h3 id="additional-fields">
<strong>Additional fields</strong><a class="anchor" aria-label="anchor" href="#additional-fields"></a>
</h3>
<p>Some of the commands such as path tracing create additional fields or variables for each factor and/or link. For example, when filtering by label, fields are created which can then be used to apply formatting.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Steve Powell.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
